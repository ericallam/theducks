<!doctype html>
<head>
  <title>DUCK STATUS</title>
  <script type='text/javascript' src='javascripts/jquery.js'></script>
  <script type='text/javascript' src='https://cdn.firebase.com/v0/firebase.js'></script>
</head>
<body>
<img id=duck-right src="images/duck-right.jpg" title="A"/>
<img id=duck-left src="images/duck-left.jpg" title="E"/>
<div style="clear: both;">
<button id="happy-button">Happy Time &lt;3</button>
<button id="bummer-button">Sad Time :(</button>
</div>

<script type="text/javascript">
  window.state = {state: "happy"};
  var myRootRef = new Firebase('https://theduckstatus.firebaseIO.com/');

  myRootRef.on('value', function(snapshot){
    window.state = snapshot.val();

    if(window.state.state === "happy"){
      $('#duck-left').attr('src', 'images/duck-left.jpg');
      $('#duck-right').attr('src', 'images/duck-right.jpg');
    }else{
      $('#duck-left').attr('src', 'images/duck-right.jpg');
      $('#duck-right').attr('src', 'images/duck-left.jpg');
    }
  })


  $(function(){
    $('#happy-button').click(function(e){
      e.preventDefault();

      myRootRef.set({state: "happy"});
    });

    $('#bummer-button').click(function(e){
      e.preventDefault();

      myRootRef.set({state: "bummed"});
    });
  });
</script>
</body>
</html>